<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maths Time Machine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c;
            color: #f0f4f8;
            transition: background-color 0.5s ease;
        }
        .container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
        }
        .time-machine {
            background: #2d3748;
            border-radius: 2rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
            padding: 3rem;
            width: 100%;
            max-width: 600px;
            position: relative;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .time-machine.shake {
            animation: shake 0.2s infinite;
        }
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        .digital-display {
            background-color: #1f2937;
            color: #48bb78;
            font-family: 'Courier New', Courier, monospace;
            padding: 0.5rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 2rem;
            font-weight: bold;
            letter-spacing: 0.2rem;
            margin-bottom: 2rem;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.5s ease;
        }
        .go-button {
            transition: all 0.3s ease;
        }
        .go-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
        }
        .go-button:active {
            transform: translateY(0);
            box-shadow: none;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        .modal-content {
            background: #2d3748;
            color: #f0f4f8;
            padding: 2rem;
            border-radius: 1.5rem;
            width: 90%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }
    </style>
</head>
<body>

    <div id="app" class="container">
        <!-- Main Time Machine Interface -->
        <div class="time-machine">
            <h1 class="text-4xl font-bold mb-2">Maths Time Machine</h1>
            <p class="text-gray-400 mb-6">Press 'GO' to travel to a random mathematical discovery!</p>
            
            <!-- Digital Display -->
            <div id="yearDisplay" class="digital-display mb-8">
                2025
            </div>

            <!-- Go Button -->
            <button id="goButton" class="go-button bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300">
                GO
            </button>
        </div>

        <!-- Postcards Section -->
        <div id="postcardsSection" class="mt-8 bg-gray-800 p-6 rounded-2xl shadow-lg w-full max-w-6xl">
            <h2 class="text-3xl font-bold mb-4">Postcards from the Past</h2>
            <div id="postcardsContainer" class="flex flex-wrap gap-4 justify-center">
                <p id="noPostcards" class="text-gray-400 italic">No journeys yet. Press 'GO' to collect your first postcard!</p>
            </div>
        </div>

        <!-- Modal for Event Details -->
        <div id="modal" class="modal hidden">
            <div class="modal-content">
                <h3 id="modalTitle" class="text-2xl font-bold mb-2 text-blue-400"></h3>
                <p id="modalEvent" class="text-lg text-gray-200 mb-4"></p>
                <p id="modalWho" class="text-sm text-gray-400 mb-1"></p>
                <p id="modalWhen" class="text-sm text-gray-400"></p>
                <div class="flex justify-end mt-4">
                    <button id="closeModal" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-full transition duration-300">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const events = [
            { year: -3000, title: 'The Rhind Papyrus', who: 'Ancient Egyptians', description: 'One of the oldest surviving mathematical texts, containing problems that deal with arithmetic, geometry, and algebra.' },
            { year: -600, title: 'Pythagorean Theorem', who: 'Pythagoras of Samos', description: 'The fundamental relationship in Euclidean geometry among the three sides of a right triangle.' },
            { year: -300, title: 'Elements', who: 'Euclid', description: 'A mathematical and geometric treatise consisting of 13 books, which has been the main textbook for teaching mathematics for over 2,000 years.' },
            { year: 250, title: 'Arithmetica', who: 'Diophantus of Alexandria', description: 'A work on finding integer solutions to algebraic equations, leading to the study of Diophantine equations.' },
            { year: 499, title: 'Aryabhatiya', who: 'Aryabhata', description: 'A major work on mathematics and astronomy, which included contributions to trigonometry, algebra, and the calculation of pi.' },
            { year: 820, title: 'The Compendious Book on Calculation by Completion and Balancing', who: 'Muhammad ibn Musa al-Khwarizmi', description: 'This book introduced algebra as a formal discipline and gave the word "algebra" its name.' },
            { year: 1202, title: 'Liber Abaci (Book of Calculation)', who: 'Leonardo Fibonacci', description: 'This book introduced the Hindu-Arabic numeral system to Europe and popularized the Fibonacci sequence.' },
            { year: 1614, title: 'Logarithms', who: 'John Napier', description: 'Invented logarithms to simplify calculations, which had a profound effect on science and mathematics.' },
            { year: 1637, title: 'Analytic Geometry', who: 'René Descartes and Pierre de Fermat', description: 'The discovery of linking geometry and algebra, which led to the creation of the Cartesian coordinate system.' },
            { year: 1665, title: 'Calculus', who: 'Isaac Newton and Gottfried Leibniz', description: 'Independently developed the fundamental concepts of differential and integral calculus, a cornerstone of modern science and engineering.' },
            { year: 1735, title: 'The Seven Bridges of Königsberg', who: 'Leonhard Euler', description: 'Euler\'s famous solution to this problem is considered the first theorem of graph theory.' },
            { year: 1829, title: 'Non-Euclidean Geometry', who: 'Nikolai Lobachevsky', description: 'Developed a form of hyperbolic geometry in which Euclid\'s fifth postulate is replaced by an alternative, leading to the discovery that other consistent geometries are possible.' },
            { year: 1854, title: 'Boolean Algebra', who: 'George Boole', description: 'A system of algebraic logic, which became fundamental to computer science and digital circuit design.' },
            { year: 1859, title: 'The Riemann Hypothesis', who: 'Bernhard Riemann', description: 'A famous conjecture concerning the distribution of prime numbers, still unsolved and one of the most important open problems in mathematics.' },
            { year: 1872, title: 'Set Theory', who: 'Georg Cantor', description: 'Cantor\'s work laid the foundations for modern set theory, introducing concepts like transfinite numbers.' },
            { year: 1890, title: 'The Continuum Hypothesis', who: 'Georg Cantor', description: 'Cantor conjectured there is no set with cardinality strictly between that of the integers and that of the real numbers. This problem was proven to be independent of the standard axioms of set theory.' },
            { year: 1905, title: 'E=mc²', who: 'Albert Einstein', description: 'This famous equation from his theory of special relativity shows the equivalence of mass and energy.' },
            { year: 1910, title: 'Principia Mathematica', who: 'Alfred North Whitehead and Bertrand Russell', description: 'An monumental effort to create a logical foundation for mathematics.' },
            { year: 1931, title: 'Gödel\'s Incompleteness Theorems', who: 'Kurt Gödel', description: 'Demonstrated that in any consistent formal system capable of expressing arithmetic, there are true statements that cannot be proven.' },
            { year: 1944, title: 'Game Theory', who: 'John von Neumann and Oskar Morgenstern', description: 'Published "Theory of Games and Economic Behavior," formalizing game theory as a mathematical field.' },
            { year: 1950, title: 'Nash Equilibrium', who: 'John Nash', description: 'A concept in game theory, where no player can benefit from changing their strategy while the other players keep theirs unchanged.' },
            { year: 1976, title: 'Four Color Theorem', who: 'Kenneth Appel and Wolfgang Haken', description: 'The first major theorem to be proven using a computer, stating that any planar map can be colored using no more than four colors.' },
            { year: 1994, title: 'Fermat\'s Last Theorem', who: 'Andrew Wiles', description: 'A proof of a famous theorem that had baffled mathematicians for centuries.' },
            { year: 2002, title: 'Poincaré Conjecture', who: 'Grigori Perelman', description: 'Perelman provided a proof for this famous conjecture, which became the first of the seven Millennium Prize Problems to be solved.' },
            { year: 2013, title: 'Solution to the Green-Tao Theorem', who: 'Ben Green and Terence Tao', description: 'They proved that the sequence of prime numbers contains arbitrarily long arithmetic progressions.' },
        ];
        
        const goButton = document.getElementById('goButton');
        const yearDisplay = document.getElementById('yearDisplay');
        const timeMachine = document.querySelector('.time-machine');
        const postcardsContainer = document.getElementById('postcardsContainer');
        const noPostcards = document.getElementById('noPostcards');
        
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modalTitle');
        const modalEvent = document.getElementById('modalEvent');
        const modalWho = document.getElementById('modalWho');
        const modalWhen = document.getElementById('modalWhen');
        const closeModalButton = document.getElementById('closeModal');

        const visitedEvents = new Set();
        let isAnimating = false;

        function showModal(event) {
            modalTitle.textContent = event.title;
            modalEvent.textContent = event.description;
            modalWho.textContent = `Who: ${event.who}`;
            modalWhen.textContent = `When: ${event.year}`;
            modal.classList.remove('hidden');
        }

        function addPostcard(event) {
            if (noPostcards) {
                noPostcards.remove();
            }
            const postcard = document.createElement('div');
            postcard.classList.add('p-3', 'bg-gray-700', 'rounded-xl', 'shadow-md', 'cursor-pointer', 'hover:bg-gray-600', 'transition', 'duration-200', 'text-gray-200');
            postcard.innerHTML = `
                <p class="font-bold text-gray-100">${event.title}</p>
                <p class="text-sm text-gray-300">${event.year}</p>
            `;
            postcard.onclick = () => showModal(event);
            postcardsContainer.appendChild(postcard);
        }

        goButton.addEventListener('click', () => {
            if (isAnimating) return;
            isAnimating = true;

            // Start shake animation
            timeMachine.classList.add('shake');
            goButton.disabled = true;

            let interval = setInterval(() => {
                yearDisplay.textContent = Math.floor(Math.random() * (2025 - (-3000) + 1)) + (-3000);
            }, 50);

            setTimeout(() => {
                clearInterval(interval);
                timeMachine.classList.remove('shake');
                
                let randomIndex;
                do {
                    randomIndex = Math.floor(Math.random() * events.length);
                } while (visitedEvents.has(randomIndex));

                visitedEvents.add(randomIndex);
                const selectedEvent = events[randomIndex];

                yearDisplay.textContent = selectedEvent.year;
                showModal(selectedEvent);
                addPostcard(selectedEvent);

                goButton.disabled = false;
                isAnimating = false;
            }, 2000); // 2-second shake
        });

        closeModalButton.addEventListener('click', () => {
            modal.classList.add('hidden');
            yearDisplay.textContent = "2025";
        });

        modal.addEventListener('click', (e) => {
            if (e.target.id === 'modal') {
                modal.classList.add('hidden');
                yearDisplay.textContent = "2025";
            }
        });
    </script>

</body>
</html>
